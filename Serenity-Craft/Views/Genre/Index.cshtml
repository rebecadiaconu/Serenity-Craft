@{
    ViewBag.Title = "Genres";
}

<br />
<br />

@if (ViewBag.Message != null)
{
    <div class="alert alert-warning" style="text-align: center; position: relative">
        <p>We have @ViewBag.Message book/books who has been assigned to this genre.</p>
        <p>Deleting this one will involve that all these books will be gone to.</p>
        <h3>Are you sure you want to delete this genre?</h3>

        @using (Html.BeginForm(actionName: "Delete", controllerName: "Genre", method: FormMethod.Post, routeValues:
            new { id = ViewBag.PubId, delete = 1 }))
        {
            @Html.HttpMethodOverride(HttpVerbs.Delete)
            <button class="btn btn-danger " type="submit" style="position: absolute; left: 45%;">YES</button>
        }

        @using (Html.BeginForm(actionName: "Index", controllerName: "Genre", method: FormMethod.Get, routeValues:
            new { id = (dynamic)null }))
        {
            <button class="btn btn-primary" type="submit" style="position: absolute; right: 45%;">NO</button>
        }
        <br />
        <br />
    </div>
}
<br />
<br />

<div style="position: relative;">
    <h2>@ViewBag.Title</h2>

    @using (Html.BeginForm(actionName: "New", controllerName: "Genre", method: FormMethod.Get))
    {
        <input style="height: 40px; width: 40px; position: absolute; right: 0; top: 0;" type="image" src="~/Content/images/plus.png" />
    }
</div>

<br />
<br />
<table class="table table-hover table-responsive table-condensed" style="width: 100%">
    <thead>
    <tr>
        <th scope="col" class="col-md-4"><h4>Name</h4></th>
        <th scope="col" class="col-md-8"><h4>More</h4></th>
    </tr>
    </thead>
    <tbody>
    @foreach (var genre in ViewBag.Genres)
    {
        <tr>
            <th scope="row">@genre.Name</th>
            <td>
                <div class="row">
                    <div class="col-md-4">
                        @using (Html.BeginForm(actionName: "Edit", controllerName: "Genre", method: FormMethod.Get, routeValues:
                            new { id = genre.GenreId }))
                        {
                            <button style="margin-right: 5px" class="btn btn-primary" type="submit">Update</button>
                        }
                    </div>
                    <div class="col-md-4">
                        @using (Html.BeginForm(actionName: "Delete", controllerName: "Genre", method: FormMethod.Post, routeValues:
                            new { id = genre.GenreId }))
                        {
                            @Html.HttpMethodOverride(HttpVerbs.Delete)
                            <button class="btn btn-danger" type="submit">Delete</button>
                        }
                    </div>

                </div>
                <br />
            </td>
        </tr>
    }
    </tbody>
</table>
<br />
